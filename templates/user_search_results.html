<!-- extends base.html -->
{% extends 'base.html' %}

<!-- start of  block content -->
{% block content %}

<!-- results  section this displays results of bookmarks search from the users  page search bar-->
<section class="row">
  <!-- all the results of the search are looped trough here  -->
  {%for r in results%}

  <!-- if statement to ensure the user is only search trough his own bookmarks -->
  {%if r.username == session ['username']%}

  <!-- col wraps entire search results section -->
  <div class="col-lg-6">
    <!--each  result are displayed in bootstrap card -->
    <div class="card">
      <!-- card body -->
      <div class="card-body text-center">
        <!-- card title displays the category name  -->
        <h2 class="card-title text-oswald uppercase">
          {{r.category_name| truncate(30, killwords=True) }}
        </h2>
        <!-- end card title -->
        <hr class="hr-color" />

        <!-- paragraph displays bookmark url-->
        <p class="card-text text-barlow">
          <a href="{{r.add_bookmark_url}}" target="_blank"
            >{{r.add_bookmark_url| truncate(30, killwords=True) }}</a
          >
        </p>
        <!-- end paragraph -->

        <!--card text displays bookmarks description -->
        <p class="card-text">
          {{r.bookmark_description |truncate (50, killwords=True) }}
        </p>
        <!-- end paragarph -->

        <!-- paragraph displays the user is was added by and the date on which it was added -->
        <p class="card-text text-barlow">
          Added by
          <mark class="text-dark">{{r.username}}</mark> on Added on
          {{r.last_modified}}
        </p>
        <!-- end paragraph -->

        <!-- start row  -->
        <div class="row">
          <!-- paragraph wraps the like button text -->
          <p class="col card-text text-barlow">
            <!-- If the amount of likes/ upvotes a users bookmark gets is one user is displayed for correct grammar-->
            Liked by {% if r.upvotes == 1%}

            <!-- here the number of upvotes/ likes recived will be displayed on the bookmark -->
            <span class="purple mx-2">{{r.upvotes}}</span>Other user

            <!-- If the amount of likes/ upvotes a users bookmark gets is anything but 1 users Is displayed for correct grammar-->
            {%else%}

            <!-- here the number of upvotes/ likes recived will be displayed on the bookmark -->
            <span class="purple mx-2">{{r.upvotes}}</span>Other users {%endif%}
            <!-- end if statement -->
          </p>
          <!-- end paragraph -->
        </div>
        <!-- end row -->

        <!-- row wraps both buttons -->
        <div class="row justify-content-around">
          <!-- delete button activates delete_bookmark route located in app.py-->
          <a
            href="{{url_for('delete_bookmark', book_id=r._id)}}"
            class="btn white text-barlow mt-2 col-4"
          >
            Delete
          </a>
          <!--end delete  button -->

          <!-- edit button -->
          <a
            href="{{url_for('edit_bookmark', book_id=r._id)}}"
            class="btn white text-barlow mt-2 col-4"
          >
            Edit
          </a>
          <!-- end edit button -->
        </div>
        <!-- end row -->
      </div>
      <!-- end card body -->
    </div>
    <!-- end card-->
  </div>
  <!-- end col -->

  {%endif%}
  <!-- end of if statement  -->

  {%endfor%}
  <!-- end of results search for loop -->
</section>
<!-- end of section -->
{% endblock content %}
<!-- end block content -->
