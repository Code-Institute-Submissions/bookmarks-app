<!-- extends base.html -->
{% extends 'base.html' %}

<!-- start of  block content -->
{% block content %}

<!-- results  section this displays results of bookmarks search from the home page search bar-->
<section class="row">
  <!-- all the results of the search are looped trough here  -->
  {%for r in results%}

  <!-- col wraps entire search results section -->
  <div class="col-lg-6">
    <!--each  result are displayed in bootstrap card -->
    <div class="card">
      <!-- card body -->
      <div class="card-body text-center">
        <!-- card title displays the category name  -->
        <h2 class="card-title text-oswald uppercase">
          {{r.category_name| truncate(30, killwords=True) }}
        </h2>
        <!-- end card title -->
        <hr class="hr-color" />

        <!-- paragraph displays bookmark url-->
        <p class="card-text text-barlow">
          <a href="{{r.add_bookmark_url}}" target="_blank"
            >{{r.add_bookmark_url| truncate(30, killwords=True) }}</a
          >
        </p>
        <!-- end paragraph -->

        <!--card text displays bookmarks description -->
        <p class="card-text">
          {{r.bookmark_description |truncate (50, killwords=True) }}
        </p>
        <!-- end paragarph -->

        <!-- paragraph displays the user is was added by and the date on which it was added -->
        <p class="card-text text-barlow">
          Added by
          <mark class="text-dark">{{r.username}}</mark> on Added on
          {{r.last_modified}}
        </p>
        <!-- end paragraph -->

        <!-- defensive desgin added here delete an edit buttons will only be available on the users own bookmarks -->
        {%if r.username == session['username']%}
        <!--  delete button here will bring user to page to confirm delete to prevent accidentlly delete a bookmark-->
        <a
          href="{{url_for('delete_bookmark', book_id=r._id)}}"
          class="btn btn-primary"
          >Delete</a
        >
        <!-- end button -->

        <!-- edit  button here will bring user to page to confirm delete to prevent accidentlly delete a bookmark-->
        <a
          href="{{url_for('edit_bookmark', book_id=r._id)}}"
          class="btn btn-primary"
          >Edit</a
        >
        <!-- end button -->
        {%endif%}
        <!-- end of  defensive desgin  if statement  -->
      </div>
      <!-- end card body -->
    </div>
    <!-- end card-->
  </div>
  <!-- end col -->

  {%endfor%}
  <!-- end of results search for loop -->
</section>
<!-- end of section -->
{% endblock content %}
<!-- end block content -->
